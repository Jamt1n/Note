## 函数式编程

### 函数式编程含义

- 函数式编程是一种强调**以函数使用**为主的软件开发风格，也是一种范式。
- 某些函数式编程语言Haskell、lisp、Scheme等。



### js中函数式编程

- 数学中函数

  f(x) = y;

- js中的函数

  ```javascript
  let factor = 3;
  let totalNum = num=>factor*num;
  ```

  ps: 这里**totalNum**函数其实还带有一个外部依赖**factor**，导致结果不可控。下面还有js纯函数的概念。



### js中的纯函数

​	纯函数是对给定的输入返还相同输出的函数：没有外部依赖。

​	结果可控制—》可推测—》方便测试

```javascript
let totalNum = (num,factor)=>factor*num;
```

#### 纯函数的特点：

1. 可推测
2. 可复用、模块化
3. 无副作用
4. 可读性

```javascript
let double = value=>value*2;
// 测试
test("double(2)等于4", ()=>{
    expect(double(2)).toBe(4);
})
```

#### 不可变数据：

因为js的值传递问题，对象的拷贝经常会是浅拷贝的一个形式存在，这样子很容易产生改变对象值而某处数据受到牵连。

- Object.freeze(obj)

  使用冻结将一个对象属性值冻结起来而不发生改变。ps: 这里是一个浅冻结，只能冻结一层。 可以手动封装一个深冻结函数。

  ```javascript
  function deepFreeze(obj) {
      Object.freeze(obj);
      for(let i in obj) {
          if(typeof obj[i] === 'object') {
              deepFreeze(obj[i]);
          }
      }
  }
  ```



## 高阶函数

- 以函数输入或者输出

...